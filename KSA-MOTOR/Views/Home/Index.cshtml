@model BusinessLayer.PartsInventory
    @using BusinessLayer

@{
    ViewBag.Title = "Create";
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title -Care-n-Repair</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
    <script src="~/Scripts/modernizr.custom.86080.js"></script>
    <script src="~/Scripts/jquery-3.4.1.js"></script>
    <style>
        .chosen-container {
            width: 100% !important;
        }

        .chosen-single {
            width: 100%;
            height: 305px;
        }

        .container {
            position: relative;
            font-family: Arial;
            width: 95%;
        }

        .text-block {
            position: sticky;
            bottom: 80%;
            right: 10%;
            background-color: transparent;
            color: white;
            padding-left: 20px;
            padding-right: 0px;
        }
    </style>
    <script src="~/Scripts/bootstrap.min.js"></script>
    <link href="~/Content/chosen.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    <script src="~/Scripts/chosen.jquery.min.js"></script>

</head>

<body>
    <nav class="navbar navbar-expand-sm navbar-dark m-0 pl-1 pr-1 pt-0 pb-0" style="background-color:#525c6b;">
        <div class="collapse navbar-collapse" id="basicExampleNav">
            <ul class="navbar-nav justify-content-between container-fluid">
                <li class="nav-item"><a href="#" class="nav-link">Car &amp; Truck</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Semi Truck</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Motorcycle</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Powersports</a></li>
                <li class="nav-item"><a href="#" class="nav-link">RV / Camper</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Boating</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Recreation</a></li>
                <li class="nav-item"><a href="#" class="nav-link">Tools</a></li>
            </ul>
        </div>
    </nav>
 
    <!--Navbar-->
    <nav class="navbar navbar-expand-sm navbar-dark primary-color" style="background-color:darkslategrey;">
        <div>
            <!-- Navbar brand -->
            <a class="navbar-brand" href="#">Care-n-Reapir</a>
            <!-- Collapse button -->
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
                    aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Collapsible content -->
            <div class="collapse navbar-collapse" id="basicExampleNav">
                <!-- Links -->
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="https://localhost:44316/Home">
                            hola
                            <span class="sr-only">(current)</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://localhost:44316/quotations">Request Quotation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://localhost:44316/inventories">Inventory</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Pricing</a>
                    </li>
                    <!-- Dropdown -->
                    <li class="nav-item dropdown multi-level-dropdown">
                        <a href="#" id="menu" data-toggle="dropdown" class="nav-link dropdown-toggle w-100">Order</a>
                        <ul class="dropdown-menu mt-2 rounded-0 primary-color border-0 z-depth-1">
                            <li class="dropdown-item dropdown-submenu p-0">
                                <a href="#" data-toggle="dropdown" class="dropdown-toggle text-white w-100">Click Me Too! </a>

                            </li>
                            <li class="dropdown-item dropdown-submenu">
                                <a href="#" data-toggle="dropdown" class="dropdown-toggle text-white w-100">Click me </a>
                                <ul class="dropdown-menu mr-2 rounded-0  primary-color border-0 z-depth-1 r-100 ">
                                    <li class="dropdown-item p-0">
                                        <a href="#" class="text-white w-100">How</a>
                                    </li>

                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li class="align-content-xl-end">
                        <a href="@Url.Action("CheckOut", "Home")" class="btn btn-info btn-lg">
                            <span class="glyphicon glyphicon-shopping-cart" style="color:green"></span><span class="badge"> @Session["count"]</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <!-- Collapsible content -->
    </nav>
    <!--/.Navbar-->
    <div style="background-image:url('https://wallup.net/wp-content/uploads/2016/07/21/408376-abstract-car-sports_car-parts-mechanics-Ferrari-Exploded-view_diagram-Composite-748x421.jpg'); background-position:center; background-color:whitesmoke;">
        <div class="containerr" style="margin-left:90px;margin-right:90px;">
            <img class="mySlides" src="~/Images/backgg.jpg" style="width:100%;height:370px;">
            <img class="mySlides" src="~/Images/b2.jpg" style="width:100%;height:370px;">
            <img class="mySlides" src="~/Images/b3.jpg" style="width:100%;height:370px;">


            <div class="text-block" style=" margin-left:auto; margin-right:auto;">
                @using (Html.BeginForm("Index", "Home", FormMethod.Post))
                {
                    <table style=" margin-left:auto; margin-right:auto;">



                        @Html.AntiForgeryToken()
                        <tr>

                            <td>



                                @Html.DropDownListFor(m => m.selctedCarBrands, Model.GetVehivclesList.Select(x => new SelectListItem
                           {
                               Text = x.Make,
                               Value = x.Id.ToString()
                           }), "Select Vehicle", new { @class = "form-control chosen-select", onchange = "this.form.submit();", @multipleclass = "chosen-select", id = "DDL", style = " border-color:yellow" })





                            </td>
                            <td>


                                @Html.DropDownListFor(m => m.selctedCarModel, Model.GetModelList.Select(x => new SelectListItem
                           {
                               Text = x.Model,
                               Value = x.Id.ToString()
                           }), "Select Vehicle", new { @class = "form-control chosen-select", onchange = "this.form.submit();", @multipleclass = "chosen-select", id = "DDLL", style = " border-color:yellow" })






                            </td>
                            <td>
                                @Html.DropDownListFor(m => m.selectedYear, (IEnumerable<SelectListItem>)ViewBag.Years, "Select Year", new { @class = "form-control chosen-select", onchange = "this.form.submit();", @multipleclass = "chosen-select", id = "DDL2", style = " border-color:yellow" })
                            </td>

                            <td>

                                @Ajax.ActionLink("Search ", "AllTest", new { NID = Convert.ToInt32(Model.selctedCarModel), id = Convert.ToInt32(Model.selctedCarBrands), YID = Model.selectedYear },
  new AjaxOptions
  {
      HttpMethod = "GET", // HttpMethod to use, GET or POST
      UpdateTargetId = "Cardd", // ID of the HTML element to update
      InsertionMode = InsertionMode.Replace // Replace the existing contents
  }, new { @class = "btn btn-warning" })

                            </td>

                        </tr>


                    </table>
                }



            </div>

        </div>

    </div>




    <!-- Head End  AFter Head Start-->
    <div class="container" style="width:120%">


        <div class="card" style="width:100%">

            <div class="card-body" id="Cardd" style="text-align:center">

                @{
                    if (ViewBag.parrt != null)
                    {
                        //Html.RenderAction("AllTest", "Home");
                        foreach (PartsInventory item in ViewBag.parrt)
                        {
                            using (Html.BeginForm("PlaceOrder", "Home", FormMethod.Post))
                            {
                                <div class="card">
                                    <div class="row">
                                        <aside class="col-sm-5 border-right">
                                            <article class="gallery-wrap">
                                                <div class="img-big-wrap">
                                                    <img src="@Url.Content(item.ImagePath)" style="height:90%; width:100%" />
                                                </div> <!-- slider-product.// -->

                                            </article> <!-- gallery-wrap .end// -->
                                        </aside>
                                        <aside class="col-sm-7">
                                            <article class="card-body p-5">

                                                <tr>

                                                    <td>
                                                        <h2>@Html.DisplayFor(modelItem => item.Name)</h2>
                                                    </td>
                                                    <td>
                                                </tr>

                                                <p class="price-detail-wrap">
                                                    <span class="price h3 text-warning">
                                                        <span class="currency">US $</span><span class="num"> @Html.DisplayFor(modelItem => item.SalePrice)</span>
                                                    </span>

                                                </p> <!-- price-detail-wrap .// -->
                                                <dl class="item-property">
                                                    <dt>Description</dt>
                                                    <dd>
                                                        <p>

                                                            @Html.DisplayFor(modelItem => item.Description)
                                                        </p>
                                                    </dd>
                                                </dl>
                                                @Html.Hidden("SalePrice", item.SalePrice)
                                                @Html.Hidden("ImagePath", item.ImagePath)
                                                @Html.Hidden("Name", item.Name)
                                                @Html.Hidden("Description", item.Description)

                                                @Html.Hidden("PartID", item.PartID)
                                                @Html.Hidden("IDD", item.PartID)
                                                <hr>
                                                <div class="row">
                                                    <div class="col-sm-5">
                                                        <dl class="param param-inline">
                                                            <dt>Quantity: </dt>
                                                            <dd>

                                                                @Html.DropDownList("Qty", new List<SelectListItem>
                         {
                                             new SelectListItem() {Text = "1", Value="1"},
                                             new SelectListItem() {Text = "2", Value="2"},
                                             new SelectListItem() {Text = "3", Value="3"},
                                             new SelectListItem() {Text = "4", Value="4"}

                         }, new { @class = "form-control", id = "Qty" })

                                                            </dd>
                                                        </dl>  <!-- item-property .// -->
                                                        ,
                                                    </div> <!-- col.// -->
                                                    <div class="col-sm-7">
                                                        <dl class="param param-inline">
                                                            <dt>Total Order(5) </dt>

                                                        </dl>  <!-- item-property .// -->
                                                    </div> <!-- col.// -->
                                                </div> <!-- row.// -->
                                                <hr>


                                                <input id="Submit1" type="submit" data-toggle="modal" data-target="#myModal" class="btn btn-danger" value="Order" />
                                                <!--    <button type="button" class="btn btn-info btn-lg" data-toggle="modal" onclick="OrderPostback()" data-target="#myModal">Order</button>-->


                                            </article> <!-- card-body.// -->
                                        </aside> <!-- col.// -->
                                    </div> <!-- row.// -->
                                </div> <!-- card.// -->
                            }

                        }


                    }
                }
            </div>
        </div>

    </div>


</body>
</html>
<script>
        var myIndex = 0;
    carousel();

    function carousel() {
        var i;
        var x = document.getElementsByClassName("mySlides");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        myIndex++;
        if (myIndex > x.length) { myIndex = 1 }
        x[myIndex - 1].style.display = "block";
        setTimeout(carousel, 5000); // Change image every 2 seconds
    }



    $('#DDL').chosen();
    $('#DDLL').chosen();
    $('#DDL2').chosen();
</script>
@section Scripts {

    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jquery")
    <script src="~/Scripts/chosen.jquery.min.js"></script>
}
